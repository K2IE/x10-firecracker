1c1
< #!/usr/bin/env python
---
> #!/usr/bin/env python3
7a8
> # Copyright (c) 2020 Daniel L. Srebnick (port to python3)
41a43,59
> import sys
> import time
> 
> # Check for a running instance
> import socket
> 
> def get_lock(process_name):
>    get_lock._lock_socket = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM)
> 
>    try:
>       get_lock._lock_socket.bind('\0' + process_name)
>    except:
>       pass
> 
> get_lock('firecracker.sock')
> while False:
>    time.sleep(2)
57,59d74
< import time
< import sys
< 
61c76,77
<     raise ValueError, 'No python serial module installed.'
---
>     print ('No python serial module installed.')
>     raise ValueError
105c121
<   0x0400, # 12
---
>   0x0418, # 12
193c209
<         print "Invalid house code ", house, house_int
---
>         print ("Invalid house code ", house, house_int)
202c218
<         print "Invalid Unit Code", unit
---
>         print ("Invalid Unit Code", unit)
215c231
<         print "Invalid Action Code", action
---
>         print ("Invalid Action Code", action)
238c254
<             print 'ERROR opening serial port', portname
---
>             print ('ERROR opening serial port', portname)
257,261c273,277
<         print "USAGE:  python firecracker.py house unit action [port]"
<         print "   house  = [a,p]"
<         print "   unit   = [0,16]"
<         print "   action = (ON, OFF, BRT, DIM)"
<         print "   port   = serial port (e.g. COM1 or /dev/tty.usbserial)"
---
>         print ("USAGE:  python firecracker.py house unit action [port]")
>         print ("   house  = [a,p]")
>         print ("   unit   = [0,16]")
>         print ("   action = (ON, OFF, BRT, DIM)")
>         print ("   port   = serial port (e.g. COM1 or /dev/tty.usbserial)")
